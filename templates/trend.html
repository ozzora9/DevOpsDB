{% extends "base.html" %}
{% block title %}트렌드 - ColorWalk{% endblock %}
{% block body_class %}trend-page{% endblock %}
{% block main_class %}trend-container{% endblock %}
{% block content %}

<!-- 🗺️ 지도 표시 영역 -->
<section class="trend-map">
  <div class="map-header">
    <h2>📍 색상별 업로드 위치 지도</h2>
    <p class="sub">각 색상에 해당하는 마커로 사진의 촬영 위치가 표시됩니다.</p>

    <!-- 🔘 전체 / 내 사진 보기 버튼 -->
    <div class="map-buttons">
      <button id="showAll" class="active">전체 사진 보기</button>
      <button id="showMine">내 사진만 보기</button>
    </div>
  </div>

  <div class="map-wrap">
    <div id="map"></div>
  </div>
</section>

<!-- Leaflet 라이브러리 (필수 순서 지켜야 함) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />

<!-- Trend 전용 CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/trend.css') }}" />

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>

<!-- Flask 데이터를 trend.js로 전달 -->
<script>
  window.photosData = {{ photos | tojson }};
  window.myPhotosData = {{ my_photos | tojson }};
</script>

<!-- Trend 전용 JS -->
<script src="{{ url_for('static', filename='js/trend.js') }}"></script>

{% endblock %}
