{% extends "base.html" %} {% block title %}갤러리 - ColorWalk{%
endblock %} {% block body_class %}gallery-page{% endblock %} {% block
main_class %}gallery-container{% endblock %} {% block content %}
<section class="gallery-header">
  <div class="color-header">
    <div
      class="color-icon"
      id="color-icon"
      style="background: #ede7f6"
    ></div>
    <div class="color-text">
      <h2 id="gallery-title">전체 갤러리</h2>
      <p id="gallery-desc">#EDE7F6 • 모든 색상의 작품을 모아봤어요</p>
      <small id="gallery-info"
        >{{ all_photo }}개의 사진 • {{ upload_photo }}개는 내가
        업로드한 사진</small
      >
    </div>
  </div>
</section>
<section class="color-filter">
  <h3>🎨 색상 카테고리</h3>
  <div class="filter-buttons">
    <button class="filter-btn active" data-color="all">전체</button>
    <button class="filter-btn red" data-color="red">❤️ 레드</button>
    <button class="filter-btn orange" data-color="orange">
      🧡 오렌지
    </button>
    <button class="filter-btn yellow" data-color="yellow">
      💛 옐로우
    </button>
    <button class="filter-btn green" data-color="green">
      💚 그린
    </button>
    <button class="filter-btn blue" data-color="blue">💙 블루</button>
    <button class="filter-btn purple" data-color="purple">
      💜 퍼플
    </button>
    <button class="filter-btn brown" data-color="brown">
      🤎 브라운
    </button>
    <button class="filter-btn black" data-color="black">
      🖤 블랙
    </button>
    <button class="filter-btn white" data-color="white">
      🤍 화이트
    </button>
  </div>
</section>
<section class="photo-gallery">
  {% for photo in photos %}
  <div
    class="photo-card"
      data-photo-id="{{ photo[0] }}" 
    data-color="{% if photo[8] == 1 %}red{% elif photo[8] == 2 %}orange{% elif photo[8] == 3 %}yellow
                    {% elif photo[8] == 4 %}green{% elif photo[8] == 5 %}blue{% elif photo[8] == 6 %}purple
                    {% elif photo[8] == 7 %}brown{% elif photo[8] == 8 %}black{% elif photo[8] == 9 %}white{% else %}unknown{% endif %}"
  >
    <div
      class="photo-image"
      style="background-image: url('{{ photo[5] }}');"
    ></div>
    <div class="photo-info">
      <div class="photo-meta">
        <span
          class="color-label"
          style="background: {% if photo[8] == 'red' %}#FF4B5C{% elif photo[8] == 'orange' %}#FF8C42
              {% elif photo[8] == 'yellow' %}#FFD93D{% elif photo[8] == 'green' %}#4CAF50{% elif photo[8] == 'blue' %}#4A90E2
              {% elif photo[8] == 'purple' %}#A66DD4{% elif photo[8] == 'brown' %}#8B5E3C{% elif photo[8] == 'black' %}#222
              {% elif photo[8] == 'white' %}#FFFFFF{% endif %};"
        ></span>
        <p class="color-name">{{ photo[2] }}</p>
      </div>
      <p class="description">{{ photo[1] }}</p>
      <p class="location">{{ photo[4] }}</p>
    </div>
  </div>
  {% endfor %}

    <!-- 🪟 팝업 모달 -->
<div id="photoModal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>

    <!-- 이미지 -->
    <img id="modalImage" src="" alt="Photo" class="modal-img" />

    <!-- 상세정보 -->
    <div class="modal-info">
      <p id="modalDesc"></p>
      <p id="modalLoc"></p>
      <p id="modalShotTime"></p>
      <p id="modalUser"></p>
    </div>

    <!-- 좋아요 -->
    <div class="like-section">
      ❤️ <span id="likeCount">0</span>
      <button id="likeBtn">좋아요</button>
    </div>

    <!-- 댓글 -->
    <div class="comment-section">
      <h4>💬 댓글</h4>
      <div id="commentList"></div>
      <textarea id="commentInput" placeholder="댓글을 입력하세요"></textarea>
      <button id="commentSubmit">등록</button>
    </div>
  </div>
</div>
</section>
<script src="{{ url_for('static', filename='js/gallery.js') }}"></script>
{% endblock %}
